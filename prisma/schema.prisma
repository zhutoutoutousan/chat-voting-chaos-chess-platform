model User {
    id     String  @id @default(cuid())
    email  String  @unique
    name   String?
    rating Int     @default(1500)
    // ... other user fields

    // Relations
    hostedLobbies Lobby[] @relation("HostedLobbies")
    whiteGames    Game[]  @relation("WhitePlayer")
    blackGames    Game[]  @relation("BlackPlayer")
}

model Lobby {
    id          String   @id @default(cuid())
    hostId      String
    timeControl String
    mode        String
    createdAt   DateTime @default(now())

    // Relations
    host User @relation("HostedLobbies", fields: [hostId], references: [id])
}

model Game {
    id          String    @id @default(cuid())
    whiteId     String
    blackId     String
    timeControl String
    mode        String
    result      String?
    pgn         String?
    createdAt   DateTime  @default(now())
    endedAt     DateTime?

    // Relations
    white User @relation("WhitePlayer", fields: [whiteId], references: [id])
    black User @relation("BlackPlayer", fields: [blackId], references: [id])
}
